#!/bin/bash

echo "🔌 Installing Working API Configuration Page"
echo "============================================"

# Backup existing App.tsx
echo "📄 Creating backup of existing App.tsx..."
if [ -f "src/App.tsx" ]; then
    cp src/App.tsx src/App.tsx.backup
    echo "✅ Backup created: src/App.tsx.backup"
fi

echo "🚀 Installing updated App.tsx with working API page..."
echo ""
echo "📋 New API features being installed:"
echo "  ✅ Bybit API Configuration"
echo "    - API Key & Secret Key inputs"
echo "    - Testnet toggle"
    - Test connection functionality"
echo ""
echo "  ✅ OpenAI API Configuration"
echo "    - API Key input"
echo "    - Organization ID (optional)"
echo "    - Test connection functionality"
echo ""
echo "  ✅ Coming Soon Services"
echo "    - MEXC (with coming soon badge)"
echo "    - Binance (with coming soon badge)"
echo ""
echo "  ✅ Additional Features"
echo "    - Save settings button"
echo "    - API usage statistics"
echo "    - Real-time connection status"
echo "    - Form validation"
echo "    - Loading states"
echo ""

echo "📝 Please copy the updated app-no-icons.tsx content to src/App.tsx"
echo ""
echo "🎯 API Configuration Instructions:"
echo ""
echo "🟡 BYBIT SETUP:"
echo "  1. Go to Bybit API Management"
echo "  2. Create new API key with trading permissions"
echo "  3. Copy API Key and Secret Key"
echo "  4. Enable testnet for safe testing"
echo ""
echo "🤖 OPENAI SETUP:"
echo "  1. Go to OpenAI API dashboard"
echo "  2. Create new API key"
echo "  3. Copy API key (starts with sk-...)"
echo "  4. Optional: Add organization ID"
echo ""
echo "🚀 After updating App.tsx, test with:"
echo "   npm run dev"
echo ""
echo "🔧 API Page Features:"
echo "  - Navigate to 'API' tab"
echo "  - Configure Bybit credentials"
echo "  - Configure OpenAI credentials"  
echo "  - Test connections"
echo "  - Save settings"
echo "  - View usage statistics"